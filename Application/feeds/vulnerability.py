import  zipfile, io

import core.common as request
import json


def getIntelligent():
    content = request.getPage('https://static.nvd.nist.gov/feeds/json/cve/1.0/nvdcve-1.0-2017.json.zip')
    if content != False:
        extract(content)

def extract(content):
    jsonformat=None
    z = zipfile.ZipFile(io.BytesIO(content.content))
    print(z.namelist())
    for finfo in z.infolist():
        #ifile = z.open(finfo)
        with z.open(finfo) as f:
            data = f.read()
            jsonformat = json.loads(data.decode("utf-8"))


    z.extractall()


getIntelligent()